<app-breadcrumb [listName]="'Daijob'" [candidateNumber]="'02'"></app-breadcrumb>
<div class="container mt-3">
  <div class="row">
    <div class="col-lg-4 col-md-6 mb-4" *ngFor ="let job of displayedJobs">
      <div class="card h-100">
        <div class="card-body">
          <!-- image -->

          <img 
          src="/assets/images/1.jpg" 
          class="card-img-top" 
          alt="Job Image" 
          style="height: 200px; object-fit: cover;"
        />
          <h5 class="card-title">{{ job.job_title || 'Job Title Not Available' }}</h5>
          <ul class="list-group list-group-flush">
            <li class="list-group-item" *ngIf="job.company_name">
              <strong>Company:</strong> {{ job.company_name }}
            </li>
            <li class="list-group-item" *ngIf="job.company_address">
              <strong>Address:</strong> {{ job.company_address }}
            </li>
            <li class="list-group-item" *ngIf="job.category">
              <strong>Category:</strong> {{ job.category }}
            </li>
            <!-- location -->
            <li class="list-group-item">
              
              <a
                [href]="'https://www.google.com/maps?q=' + job.latitude + ',' + job.longitude"
                target="_blank"
                class="text-decoration-none"
              >
              <img src="/assets/icons/map.png" alt="Dribbble" width="21" height="21"> Location
              </a>
            </li>

           <li class="list-group-item">
  <strong>Coordinates:</strong> {{ job.latitude }}, {{ job.longitude }}<br />
  <strong>Prefecture:</strong> {{ getJobPrefecture(job)}}<br />
  <strong>City:</strong> {{ getJobCity(job) }}
</li>
            <!-- <li class="list-group-item" *ngIf="job.job_info_id">
              <strong>Job ID:</strong> {{ job.job_info_id }}
            </li> -->
            <div class="row gap-2 gap-lg-3 align-items-center justify-content-center mt-3">
                 <button class="btn btn-primary col-lg-4 col-5">Message</button>
                 <button class="btn btn-success col-lg-4 col-5">View Details</button>
            </div>
           
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Pagination Controls -->
  <nav class="d-flex justify-content-center mt-4">
    <ul class="pagination pagination-sm flex-wrap">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <a class="page-link" (click)="firstPage()"><<</a>
      </li>
      <li class="page-item" [class.disabled]="currentPage === 1">
        <a class="page-link" (click)="prevPage()"><</a>
      </li>
      
      <!-- First page and possibly ellipsis -->
      <li class="page-item" [class.active]="1 === currentPage">
        <a class="page-link" (click)="goToPage(1)">1</a>
      </li>
      
      <ng-container *ngIf="currentPage > 4">
        <li class="page-item disabled">
          <span class="page-link">...</span>
        </li>
      </ng-container>
      
      <!-- Middle pages -->
      <ng-container *ngFor="let page of getPaginationPages()">
        <li class="page-item" [class.active]="page === currentPage">
          <a class="page-link" (click)="goToPage(page)">{{ page }}</a>
        </li>
      </ng-container>
      
      <!-- Last pages and possibly ellipsis -->
      <ng-container *ngIf="currentPage < totalPages() - 3">
        <li class="page-item disabled">
          <span class="page-link">...</span>
        </li>
      </ng-container>
      
      <li class="page-item" *ngIf="totalPages() > 1" [class.active]="totalPages() === currentPage">
        <a class="page-link" (click)="goToPage(totalPages())">{{ totalPages() }}</a>
      </li>
      
      <li class="page-item" [class.disabled]="currentPage === totalPages()">
        <a class="page-link" (click)="nextPage()">></a>
      </li>
      <li class="page-item" [class.disabled]="currentPage === totalPages()">
        <a class="page-link" (click)="lastPage()"> >> </a>
      </li>
    </ul>
  </nav>
</div>

  <section >
    <app-join></app-join>
  </section>

  <footer>
    <app-footer></app-footer>
  </footer>